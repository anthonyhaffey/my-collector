<style>
html, body {
  width: 100%;
  height: 100%;
  margin: 0px;
}

#chartdiv {
  width: 100%;
  height: 100%;
}
</style>
<script>
	window.jQuery || document.write('<script src="../libraries/jquery-3.3.1.min.js"><\/script>');
</script>

<h3 class="text-primary"> This is totally optional, but please select the country you are completing this from and then click on "Submit"</h3>
<button id="country_selected" class="btn btn-primary">Submit</button>
<div id="chartdiv"></div>
<script>
var amchart_scripts = ["https://www.amcharts.com/lib/3/ammap.js",
                       "https://www.amcharts.com/lib/3/maps/js/worldLow.js",
                       "https://www.amcharts.com/lib/3/themes/light.js"];
var map;
function load_amchart(list){
  if(list.length > 0){
    var this_script = list.pop();
    $.getScript( this_script, function( data, textStatus, jqxhr ) { //"ajax/test.js"
      console.log( data ); // Data returned
      console.log( textStatus ); // Success
      console.log( jqxhr.status ); // 200
      console.log( "Load was performed." );
      load_amchart(list);
    });
  } else {
    map = AmCharts.makeChart("chartdiv", {
      "type": "map",
      "theme": "light",
      "projection": "eckert3",
      "dataProvider": {
        "map": "worldLow",
        "getAreasFromMap": true
      },
      "areasSettings": {
        "selectedColor": "#CC0000",
        "selectable": true
      }
    });
  }
}
load_amchart(amchart_scripts);
/**
 * Create the map
 */

document.getElementById("country_selected").addEventListener("click",function(){
  $.post("https://script.google.com/macros/s/AKfycbzlKxIo5TsWoN2vd-5M7X2kfbTWZrvZMqwGJY6yzgOhSRWyzvvZ/exec",{
    country_id   : map.selectedObject.id,
    country_name : map.selectedObject.title,
  },function(result){
    //will always return error
  });
});

</script>